<div ng-controller="MoviesListController">
	
	<h1>Movies</h1>
	
	<button ng-click="model=[]" ng-show="uiState=='ideal'">Delete all</button>
	
	<div class="jumbotron" ng-show="uiState=='blank'">
		<p class="lead">No data here</p>
	</div>
	
	<div class="alert alert-danger" ng-show="uiState=='error'">
		Error while loading data
	</div>

	<div ng-include="'views/ProgressBar.html'" ng-show="uiState=='loading'"></div>

	<table class="table table-striped" ng-show="uiState=='ideal'">
		<thead>
			<tr>
				<th>Poster</th>
				<th>Title</th>
				<th>Year</th>
				<th>Rating</th>
				<th>Details</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="item in model">
				<td>
					<img ng-src="{{::item.poster_url}}" alt="{{::item.title}}'s poster" title="{{::item.title}}" style="width:100px">
				</td>
				<td>
					{{::item.title}}
				</td>
				<td>
					{{::item.release_date | date:"dd/MM/yyyy"}}
					<br>
					({{::item.release_date | ago}})
				</td>
				<td>
					{{::item.rating}}
					({{::item.rating | schoolrating:''}})
				</td>
				<td>
					<a href="#{{::getMovieDetailURL(item)}}" class="btn btn-default">View</a>
				</td>
			</tr>	
		</tbody>
	</table>

</div>